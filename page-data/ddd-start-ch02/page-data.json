{"componentChunkName":"component---src-templates-post-jsx","path":"/ddd-start-ch02/","result":{"data":{"site":{"siteMetadata":{"title":"Changmin"}},"markdownRemark":{"id":"5fb1606a-48b7-5640-8159-c0e33511bc0d","excerpt":"2. 아키텍쳐 개요 2.1 네 개의 영역 도메인 주도 설계(DDD)에서 아키텍처를 설계할 때 나타나는 전형적인 네 가지 영역 표현 영역 웹 애플리케이션에서 HTTP 요청을 응용 영역이 필요로 하는 형식으로 변환하여 전달하고, 응용 영역의 응답을 HTTP 응답으로 변환하여 전송함. 응용 영역 시스템이 사용자에게 제공해야 할 기능을 구현함. 실제 비즈니스 로…","html":"<h1 id=\"2-아키텍쳐-개요\" style=\"position:relative;\"><a href=\"#2-%EC%95%84%ED%82%A4%ED%85%8D%EC%B3%90-%EA%B0%9C%EC%9A%94\" aria-label=\"2 아키텍쳐 개요 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>2. 아키텍쳐 개요</h1>\n<h2 id=\"21-네-개의-영역\" style=\"position:relative;\"><a href=\"#21-%EB%84%A4-%EA%B0%9C%EC%9D%98-%EC%98%81%EC%97%AD\" aria-label=\"21 네 개의 영역 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>2.1 네 개의 영역</h2>\n<p>도메인 주도 설계(DDD)에서 아키텍처를 설계할 때 나타나는 전형적인 네 가지 영역</p>\n<ul>\n<li>\n<p><strong>표현 영역</strong></p>\n<ul>\n<li>웹 애플리케이션에서 HTTP 요청을 응용 영역이 필요로 하는 형식으로 변환하여 전달하고, 응용 영역의 응답을 HTTP 응답으로 변환하여 전송함.</li>\n</ul>\n</li>\n<li>\n<p><strong>응용 영역</strong></p>\n<ul>\n<li>시스템이 사용자에게 제공해야 할 기능을 구현함.</li>\n<li>실제 비즈니스 로직을 직접 수행하기보다는 도메인 모델에 로직 수행을 위임함.</li>\n</ul>\n</li>\n<li>\n<p><strong>도메인 모델</strong></p>\n<ul>\n<li>도메인의 핵심 로직을 구현함.</li>\n</ul>\n</li>\n<li>\n<p><strong>인프라스트럭처 영역</strong></p>\n<ul>\n<li>논리적인 개념을 표현하기보다는 실제 구현 기술 처리를 담당함.</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"22-계층-구조-아키텍처\" style=\"position:relative;\"><a href=\"#22-%EA%B3%84%EC%B8%B5-%EA%B5%AC%EC%A1%B0-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98\" aria-label=\"22 계층 구조 아키텍처 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>2.2 계층 구조 아키텍처</h2>\n<p>계층 구조는 상위 계층에서 하위 계층으로의 의존만 존재하고, 하위 계층은 상위 계층에 의존하지 않음.</p>\n<ul>\n<li>\n<p><strong>문제점</strong>: 표현, 응용, 도메인 계층이 인프라스트럭처 계층에 종속될 때 발생하는 문제</p>\n<ul>\n<li><strong>테스트</strong>: 구현 방식에 종속되어 구현 방식 변경이 힘들어짐.</li>\n<li><strong>해결책</strong>: DIP(의존 역전 원칙)를 통해 해결 가능</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"23-DIP-Dependency-Inversion-Principle\" style=\"position:relative;\"><a href=\"#23-DIP-Dependency-Inversion-Principle\" aria-label=\"23 DIP Dependency Inversion Principle permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>2.3 DIP (Dependency Inversion Principle)</h2>\n<p>고수준 모듈이 저수준 모듈을 사용하면 문제 발생. 저수준 모듈이 추상화한 인터페이스를 사용해서 고수준 모듈에 의존하게 해야 함. 이를 DIP(의존 역전 원칙)이라고 부름.</p>\n<ul>\n<li>상속은 의존의 다른 형태임.</li>\n<li>저수준 모듈에서 인터페이스를 추출하는 것은 의미가 없음. 도메인 관점에서 인터페이스를 도출해야 함.</li>\n</ul>\n<h2 id=\"24-도메인-영역의-주요-구성요소\" style=\"position:relative;\"><a href=\"#24-%EB%8F%84%EB%A9%94%EC%9D%B8-%EC%98%81%EC%97%AD%EC%9D%98-%EC%A3%BC%EC%9A%94-%EA%B5%AC%EC%84%B1%EC%9A%94%EC%86%8C\" aria-label=\"24 도메인 영역의 주요 구성요소 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>2.4 도메인 영역의 주요 구성요소</h2>\n<ul>\n<li>\n<p><strong>엔티티 (ENTITY)</strong></p>\n<ul>\n<li>고유의 식별자를 갖는 객체로, 자신의 라이프 사이클을 가짐. 도메인의 고유한 개념을 포함함.</li>\n<li>단순히 데이터를 담고 있는 구조가 아니라, 데이터와 함께 도메인 기능을 제공하는 객체임.</li>\n<li>도메인 관점에서 기능을 구현하고, 기능 구현을 캡슐화하여 데이터가 임의로 변경되는 것을 막음.</li>\n<li>두 개 이상의 데이터가 개념적으로 하나인 경우, 밸류 타입을 이용해서 표현 가능.</li>\n</ul>\n</li>\n<li>\n<p><strong>밸류 (VALUE)</strong></p>\n<ul>\n<li>고유의 식별자를 갖지 않는 객체로, 주로 개념적으로 하나인 값을 의미함.</li>\n<li>엔티티의 밸류 타입 데이터를 변경할 때는 객체 자체를 완전히 교체함.</li>\n</ul>\n</li>\n<li>\n<p><strong>에그리거트 (AGGREGATE)</strong></p>\n<ul>\n<li>연관된 엔티티와 밸류 객체를 개념적으로 하나로 묶은 것임.</li>\n<li>도메인 모델에서 전체 구조를 이해하는 데 도움이 됨.</li>\n<li>루트 엔티티는 에그리거트에 속해 있는 엔티티와 밸류 객체를 이용해서 에그리거트가 구현해야 할 기능을 제공함.</li>\n</ul>\n</li>\n<li>\n<p><strong>리포지터리 (REPOSITORY)</strong></p>\n<ul>\n<li>에그리거트 단위로 도메인 모델의 영속성을 처리함.</li>\n<li>응용 서비스는 필요한 도메인 객체를 구하거나 저장할 때 리포지터리를 사용함.</li>\n<li>응용 서비스는 트랜잭션을 관리하는데, 트랜잭션 처리는 리포지터리 구현 기술의 영향을 받음.</li>\n</ul>\n</li>\n<li>\n<p><strong>도메인 서비스 (DOMAIN SERVICE)</strong></p>\n<ul>\n<li>특정 엔티티에 속하지 않은 도메인 로직을 제공함.</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"25-요청-처리-흐름\" style=\"position:relative;\"><a href=\"#25-%EC%9A%94%EC%B2%AD-%EC%B2%98%EB%A6%AC-%ED%9D%90%EB%A6%84\" aria-label=\"25 요청 처리 흐름 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>2.5 요청 처리 흐름</h2>\n<ul>\n<li>\n<p><strong>표현 영역</strong></p>\n<ul>\n<li>사용자가 전송한 데이터 형식이 올바른지 검사하고, 문제가 없다면 데이터를 이용해서 응용 서비스에 기능 실행을 위임함.</li>\n<li>사용자가 전송한 데이터를 응용 서비스가 요구하는 형식으로 변환하여 전달함.</li>\n</ul>\n</li>\n<li>\n<p><strong>응용 서비스 영역</strong></p>\n<ul>\n<li>도메인 모델을 이용해서 기능을 구현함.</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"26-인프라스트럭처-개요\" style=\"position:relative;\"><a href=\"#26-%EC%9D%B8%ED%94%84%EB%9D%BC%EC%8A%A4%ED%8A%B8%EB%9F%AD%EC%B2%98-%EA%B0%9C%EC%9A%94\" aria-label=\"26 인프라스트럭처 개요 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>2.6 인프라스트럭처 개요</h2>\n<p>표현 영역, 응용 영역, 도메인 영역에 프레임워크, 구현 기술, 보조 기능을 지원함.</p>\n<p>고수준 인터페이스를 인프라스트럭처 영역에서 구현하는 것이 시스템을 더 유연하고 테스트하기 쉽게 만듦.</p>\n<h2 id=\"27-모듈-구성\" style=\"position:relative;\"><a href=\"#27-%EB%AA%A8%EB%93%88-%EA%B5%AC%EC%84%B1\" aria-label=\"27 모듈 구성 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>2.7 모듈 구성</h2>\n<p>아키텍처의 각 영역은 별도 패키지에 위치함.</p>\n<p>도메인이 크면 하위 도메인으로 나누고, 각 하위 도메인마다 별도 패키지를 구성함.</p>\n<p>에그리거트, 모델, 리포지터리는 같은 패키지에 위치시키고, 한 패키지에 가능하면 10~15개 미만으로 타입 개수를 유지하려고 노력함.</p>","frontmatter":{"title":"도메인 주도 개발 시작하기 - 2장","date":"June 15, 2024","update":"June 15, 2024","tags":["DDD","study"],"series":"DDD start!"},"fields":{"slug":"/ddd-start-ch02/","readingTime":{"minutes":6.085}}},"seriesList":{"edges":[{"node":{"id":"b537bdb2-c044-546d-a69b-16f3e181b90d","fields":{"slug":"/ddd-start-ch01/"},"frontmatter":{"title":"도메인 주도 개발 시작하기 - 1장"}}},{"node":{"id":"5fb1606a-48b7-5640-8159-c0e33511bc0d","fields":{"slug":"/ddd-start-ch02/"},"frontmatter":{"title":"도메인 주도 개발 시작하기 - 2장"}}},{"node":{"id":"34161c47-f004-5463-a911-650de73c7cab","fields":{"slug":"/ddd-start-intro/"},"frontmatter":{"title":"도메인 주도 개발 시작하기 - YAPP 24기 스터디"}}},{"node":{"id":"4a4f3cb6-706b-5e3d-9c5f-95da5bc35966","fields":{"slug":"/ddd-start-ch03/"},"frontmatter":{"title":"도메인 주도 개발 시작하기 - 3장"}}}]},"previous":{"fields":{"slug":"/ddd-start-ch01/"},"frontmatter":{"title":"도메인 주도 개발 시작하기 - 1장"}},"next":{"fields":{"slug":"/ddd-start-intro/"},"frontmatter":{"title":"도메인 주도 개발 시작하기 - YAPP 24기 스터디"}}},"pageContext":{"id":"5fb1606a-48b7-5640-8159-c0e33511bc0d","series":"DDD start!","previousPostId":"b537bdb2-c044-546d-a69b-16f3e181b90d","nextPostId":"34161c47-f004-5463-a911-650de73c7cab"}},"staticQueryHashes":[],"slicesMap":{}}