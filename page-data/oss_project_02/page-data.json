{"componentChunkName":"component---src-templates-post-jsx","path":"/oss_project_02/","result":{"data":{"site":{"siteMetadata":{"title":"Changmin"}},"markdownRemark":{"id":"3b892aed-097e-5502-8614-cad7a082629f","excerpt":"[NestJS] type narrowing context parameter on createParamDecorator's callback 진행 이슈 link PR link 이슈 내용  NestJS의 createParamDecorator의 callback 으로 전달되는 context의 type이 현재 any로 추론되는 것을 ExecutionContext T…","html":"<h3 id=\"NestJS-type-narrowingcontextparameter-oncreateParamDecorators-callback\" style=\"position:relative;\"><a href=\"#NestJS-type-narrowingcontextparameter-oncreateParamDecorators-callback\" aria-label=\"NestJS type narrowingcontextparameter oncreateParamDecorators callback permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>[NestJS] type narrowing context parameter on createParamDecorator's callback</h3>\n<ul>\n<li><a href=\"https://github.com/nestjs/nest/issues/14093\">진행 이슈 link</a></li>\n<li><a href=\"https://github.com/nestjs/nest/pull/14126\">PR link</a></li>\n</ul>\n<h2 id=\"이슈-내용\" style=\"position:relative;\"><a href=\"#%EC%9D%B4%EC%8A%88-%EB%82%B4%EC%9A%A9\" aria-label=\"이슈 내용 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>이슈 내용</h2>\n<p><figure class='gatsby-resp-image-figure' style='margin-bottom: 16px;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; '>\n      <a class='gatsby-resp-image-link' href='/static/3f752e5ccab0772777f2c13692abe363/e2af0/image.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 111.76470588235294%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAABYlAAAWJQFJUiTwAAADIUlEQVR42n1Ux3bbQBDzNbZDSey9d0qirOL2HN/y/5+EYFYi3XPA2yIRixnMzNX4+hd+uUU97JFUG/hpQ7QzLD/Hyo6xchLobvoFcu/GNbyk4T7GlWYGMP0U7eZI0jv04wnd9ohmc0DDR/rxnucTht09krLH7crGb937AM2Y9i6ubpY2L1z4SYmoaBHmDaK8RUysrADXC0v9USD//YDV2/525bwRGm6Mdn1AT2WiZKCq7fEF/e4Rm/0zOqrvtgd13673TEGIheFTSADN5moRJhWS9EqYNTIHXoPQr5CmRFzilHZ4KUeMwwPaeocsaeF5KTw3QRQW8L0MrpMzdwWcJIcTpFgy7Jkw9EuU2R3W6xPqfMAQ5hiiBB3T0Fc9OubPY9JNKlMwfViETQ8s47wuub5TmCKkyowup1GNNKypIqaKCL7AjeDYEUkC9bEiktUK57ul8U6hRQN0Xqz0N+h80TADtf6E978vppCXJAvSGmF2dljgJxXrckDWbOh+d6kAus/Q7SBTDt9SiHz/Hspli3W4OTxhffdAVx+V07IXkgXzdLN0cK1ZqoR+wgdCKYOsHlAQOQ0omrU6V/2IisXuUa0TFeyIUj0uCh2aJqvHO5v7qRZVyKIirPaIOqpqTwoBz2FFsrhCkDENRc9wB7UXhJc1Lga111kBwjMTesWIpD6g270iaZ8QFHtYcYcl1S/ppLSoYGHyTLdnWOezzioRL2bCFavdDxLsmLuOXZNTTcrwRaHnZzC9RIWrs4Q+GyGQkFXrTYQi2eJHTb9jex3VsCg6dki9hnEhk5wJ8XeEcy+rOmT96exnTXfgs63iYouyHZUZhs12oyGWm8F2aExwNmYy4WdChrKwgjlX0ySR3zTj3PznMSWTx/kywibM02Y8PmP/8EfNQ9lvWZeytjIXOWHKblTzUkpsUvMZcx0KYc6OkAEqOSv4sXSJIGD3TDXnMnRx8pdm/ljcb/PwokSm9bQXtDyL2ql7kkvrySPTQ9NeUqIIxTkJR5QV7XYOr6LjchbVspd+l1yLKROmchJo07RZqIL1P4TyXVg3Agr4Xz//AzFcRSMzCLTiAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='메인테이너 분이 올린 issue 내용' title='' src='/static/3f752e5ccab0772777f2c13692abe363/ca1dc/image.png' srcset='/static/3f752e5ccab0772777f2c13692abe363/e7570/image.png 170w,\n/static/3f752e5ccab0772777f2c13692abe363/f46e7/image.png 340w,\n/static/3f752e5ccab0772777f2c13692abe363/ca1dc/image.png 680w,\n/static/3f752e5ccab0772777f2c13692abe363/02d09/image.png 1020w,\n/static/3f752e5ccab0772777f2c13692abe363/9d567/image.png 1360w,\n/static/3f752e5ccab0772777f2c13692abe363/e2af0/image.png 1650w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>메인테이너 분이 올린 issue 내용</figcaption>\n  </figure></p>\n<p>NestJS의 createParamDecorator의 callback 으로 전달되는 context의 type이 현재 any로 추론되는 것을 ExecutionContext Type으로 지정하여 사용자들이 NestJS의 Docs를 참고하지 않아도 createParamDecorator를 사용할 수 있게 하면 좋을 것 같다는 내용의 이슈</p>\n<p>위의 사진에서 보이는 것처럼 현재 createParamDecorator의 parameter ctx type이 any로 지정되는 것을 볼 수 있다.</p>\n<p>createParamDecorator의 context 매개변수 타입이 any로 설정되어 있어, 타입 체크가 이 context의 구조나 내용에 대해 알려주지 못한다. 실제로는 ExecutionContextHost 인스턴스가 context로 전달되며, 이 인스턴스는 ExecutionContext 인터페이스를 구현한다. 타입을 ExecutionContext로 변경하면 코드 작성 시 올바른 타입 추론을 제공할 수 있다.</p>\n<h2 id=\"해결-과정\" style=\"position:relative;\"><a href=\"#%ED%95%B4%EA%B2%B0-%EA%B3%BC%EC%A0%95\" aria-label=\"해결 과정 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>해결 과정</h2>\n<p>네, 작성하신 해결 방안을 순차적으로 설명드리겠습니다. createParamDecorator 함수의 context 매개변수 타입을 any에서 ExecutionContext로 좁히는 방안을 적용한 과정입니다.</p>\n<ol>\n<li>CustomParamFactory 인터페이스 수정</li>\n</ol>\n<p>먼저 CustomParamFactory 인터페이스에서 context 타입을 ExecutionContext로 변경하여 더 명확하게 정의했습니다.</p>\n<h3 id=\"기존-코드\" style=\"position:relative;\"><a href=\"#%EA%B8%B0%EC%A1%B4-%EC%BD%94%EB%93%9C\" aria-label=\"기존 코드 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>기존 코드</h3>\n<p>기존 CustomParamFactory의 타입 정의에서는 context 매개변수 타입이 명확하지 않았습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">type</span> <span class=\"token class-name\">CustomParamFactory<span class=\"token operator\">&lt;</span>TData <span class=\"token operator\">=</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">,</span> TInput <span class=\"token operator\">=</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">,</span> TOutput <span class=\"token operator\">=</span> <span class=\"token builtin\">any</span><span class=\"token operator\">></span></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\n  data<span class=\"token operator\">:</span> TData<span class=\"token punctuation\">,</span>\n  input<span class=\"token operator\">:</span> TInput\n<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> TOutput</code></pre></div>\n<h3 id=\"수정된-코드\" style=\"position:relative;\"><a href=\"#%EC%88%98%EC%A0%95%EB%90%9C-%EC%BD%94%EB%93%9C\" aria-label=\"수정된 코드 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>수정된 코드</h3>\n<p>context의 타입을 ExecutionContext로 지정하여, CustomParamFactory의 두 번째 매개변수가 ExecutionContext임을 명확히 하였습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">type</span> <span class=\"token class-name\">CustomParamFactory<span class=\"token operator\">&lt;</span>TData <span class=\"token operator\">=</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">,</span> TOutput <span class=\"token operator\">=</span> <span class=\"token builtin\">any</span><span class=\"token operator\">></span></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\n  data<span class=\"token operator\">:</span> TData<span class=\"token punctuation\">,</span>\n  context<span class=\"token operator\">:</span> ExecutionContext\n<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> TOutput</code></pre></div>\n<p>이로 인해 CustomParamFactory를 사용하는 모든 곳에서 context가 ExecutionContext 타입을 가질 것임을 명확히 했습니다.</p>\n<ol start=\"2\">\n<li>createParamDecorator 함수 매개변수 타입 변경</li>\n</ol>\n<p>이제 createParamDecorator 함수에서 CustomParamFactory 인터페이스를 반영하여 context 매개변수를 ExecutionContext로 지정하였습니다.</p>\n<h3 id=\"기존-코드-1\" style=\"position:relative;\"><a href=\"#%EA%B8%B0%EC%A1%B4-%EC%BD%94%EB%93%9C-1\" aria-label=\"기존 코드 1 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>기존 코드</h3>\n<p>기존 createParamDecorator의 factory 파라미터는 CustomParamFactory&#x3C;FactoryData, FactoryInput, FactoryOutput>으로 정의되어 context의 타입이 명확하지 않았습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> createParamDecorator<span class=\"token operator\">&lt;</span>\nFactoryData <span class=\"token operator\">=</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">,</span>\nFactoryInput <span class=\"token operator\">=</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">,</span>\nFactoryOutput <span class=\"token operator\">=</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">,</span>\n\n<span class=\"token punctuation\">(</span>\nfactory<span class=\"token operator\">:</span> CustomParamFactory<span class=\"token operator\">&lt;</span>FactoryData<span class=\"token punctuation\">,</span> FactoryInput<span class=\"token punctuation\">,</span> FactoryOutput<span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\nenhancers<span class=\"token operator\">:</span> ParamDecoratorEnhancer<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>\n <span class=\"token operator\">...</span>dataOrPipes<span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>Type<span class=\"token operator\">&lt;</span>PipeTransform<span class=\"token operator\">></span> <span class=\"token operator\">|</span> PipeTransform <span class=\"token operator\">|</span> FactoryData<span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> ParameterDecorator <span class=\"token punctuation\">{</span>\n<span class=\"token comment\">// function body</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"수정된-코드-1\" style=\"position:relative;\"><a href=\"#%EC%88%98%EC%A0%95%EB%90%9C-%EC%BD%94%EB%93%9C-1\" aria-label=\"수정된 코드 1 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>수정된 코드</h3>\n<p>CustomParamFactory 인터페이스를 수정하여 ExecutionContext 타입을 반영함으로써 createParamDecorator의 factory 매개변수도 ExecutionContext 타입을 받게 되었습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> createParamDecorator<span class=\"token operator\">&lt;</span>\nFactoryData <span class=\"token operator\">=</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">,</span>\nFactoryOutput <span class=\"token operator\">=</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">(</span>\nfactory<span class=\"token operator\">:</span> CustomParamFactory<span class=\"token operator\">&lt;</span>FactoryData<span class=\"token punctuation\">,</span> FactoryOutput<span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\nenhancers<span class=\"token operator\">:</span> ParamDecoratorEnhancer<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>\n<span class=\"token operator\">...</span>dataOrPipes<span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>Type<span class=\"token operator\">&lt;</span>PipeTransform<span class=\"token operator\">></span> <span class=\"token operator\">|</span> PipeTransform <span class=\"token operator\">|</span> FactoryData<span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> ParameterDecorator <span class=\"token punctuation\">{</span>\n<span class=\"token comment\">// function body</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>이를 통해 createParamDecorator가 ExecutionContext 타입의 context를 처리할 수 있도록 개선했습니다. 또한, context가 항상 ExecutionContext임을 보장할 수 있으며, 타입 안전성을 더욱 높였습니다.</p>\n<h2 id=\"결과\" style=\"position:relative;\"><a href=\"#%EA%B2%B0%EA%B3%BC\" aria-label=\"결과 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>결과</h2>\n<p>NestJS Common 에 존재하는 custom-route-param-metadata.decorator.ts 파일을 수정하여 context의 type을 ExecutionContext로 명시하여 type 안정성 및 type 추론을 할 수 있도록 기여했습니다.</p>\n<p>또한, ExecutionContext 타입을 더욱 명확히 하여 코드의 타입 안정성을 강화하고, 개발자가 NestJS의 문서를 참조하지 않아도 직관적인 코딩을 할 수 있게 개선했습니다.</p>\n<p><figure class='gatsby-resp-image-figure' style='margin-bottom: 16px;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; '>\n      <a class='gatsby-resp-image-link' href='/static/55c53d9fe73605ce5df4fbf2c7d1ae6a/c1e63/image-1.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 27.058823529411764%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA7klEQVR42nWPS0/DMBCEc6S0zcOxHSeOnWdD3Va0CAHiDBJwgP//b4a1KZGQyuHTrnZHo5no5fUN7x+f0O0Wu9MT7HiA7hx0v4OyE7KiAVPtv/i/11XNDe0WUd1NaAaHunfgVYuEayTiDO1xXhLVmfIiCa9mbbSIORYxgzADsmqDqzXDMpWB60QElukvP/dVVsz81UlEXsh4j834QNF7KDLOlUVKCf2UPrW0SIoWqTThvmZqNmRUk5e+vqXKBtGKCahyj+fHL2xv7zC4YzAVZKTMiLqdkFNybhyEHiB1R6Z1qOkr2nGP6XAfpukdvgGJOoG18E5aYAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='메인테이너 분의 LGTM' title='' src='/static/55c53d9fe73605ce5df4fbf2c7d1ae6a/ca1dc/image-1.png' srcset='/static/55c53d9fe73605ce5df4fbf2c7d1ae6a/e7570/image-1.png 170w,\n/static/55c53d9fe73605ce5df4fbf2c7d1ae6a/f46e7/image-1.png 340w,\n/static/55c53d9fe73605ce5df4fbf2c7d1ae6a/ca1dc/image-1.png 680w,\n/static/55c53d9fe73605ce5df4fbf2c7d1ae6a/02d09/image-1.png 1020w,\n/static/55c53d9fe73605ce5df4fbf2c7d1ae6a/9d567/image-1.png 1360w,\n/static/55c53d9fe73605ce5df4fbf2c7d1ae6a/c1e63/image-1.png 1680w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>메인테이너 분의 LGTM</figcaption>\n  </figure></p>","frontmatter":{"title":"[NestJS] type narrowing context parameter on createParamDecorator's callback","date":"November 16, 2024","update":"November 16, 2024","tags":["오픈소스","NestJS"],"series":"Open Source"},"fields":{"slug":"/oss_project_02/","readingTime":{"minutes":4.25}}},"seriesList":{"edges":[{"node":{"id":"b6550bf9-c830-5ce7-baf5-17d7fa28eca3","fields":{"slug":"/opensource-toss-aop/"},"frontmatter":{"title":"Toss AOP 라이브러리 한글 문서 번역 기여"}}},{"node":{"id":"e6e35a87-6eea-514d-919b-700f01db42f0","fields":{"slug":"/oss_project_01/"},"frontmatter":{"title":"오픈 소스 기여: 작은 코드의 큰 가치"}}},{"node":{"id":"3b892aed-097e-5502-8614-cad7a082629f","fields":{"slug":"/oss_project_02/"},"frontmatter":{"title":"[NestJS] type narrowing context parameter on createParamDecorator's callback"}}},{"node":{"id":"f96e7220-8f62-5810-b9cc-280bc2176c6b","fields":{"slug":"/oss_project_03/"},"frontmatter":{"title":"[NestJS] @nestjs/microservices should handle RabbitMQ bindings and auto-generated queues"}}}]},"previous":{"fields":{"slug":"/oss_project_01/"},"frontmatter":{"title":"오픈 소스 기여: 작은 코드의 큰 가치"}},"next":{"fields":{"slug":"/oss_project_03/"},"frontmatter":{"title":"[NestJS] @nestjs/microservices should handle RabbitMQ bindings and auto-generated queues"}}},"pageContext":{"id":"3b892aed-097e-5502-8614-cad7a082629f","series":"Open Source","previousPostId":"e6e35a87-6eea-514d-919b-700f01db42f0","nextPostId":"f96e7220-8f62-5810-b9cc-280bc2176c6b"}},"staticQueryHashes":[],"slicesMap":{}}