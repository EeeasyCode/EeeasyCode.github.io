{"componentChunkName":"component---src-templates-post-jsx","path":"/koyeb-free-tier/","result":{"data":{"site":{"siteMetadata":{"title":"Changmin"}},"markdownRemark":{"id":"53222982-f6a0-59ed-85e0-e19906070f62","excerpt":"최근 프로젝트에서 백오피스를 만들게 되었는데, React로 Front 구현, NodeJS(Express)로 서버 개발을 진행하게 되었다. 백오피스 환경은 전부 무료 클라우드를 사용하고 싶어, React는 Netlify로 배포를 진행했고 NodeJS는 Koyeb로 배포를 진행했다. React는 성공적으로 배포가 되었지만, NodeJS는 배포 과정에서 에러를…","html":"<p>최근 프로젝트에서 백오피스를 만들게 되었는데, <strong>React</strong>로 Front 구현, <strong>NodeJS(Express)</strong>로 서버 개발을 진행하게 되었다. 백오피스 환경은 전부 무료 클라우드를 사용하고 싶어, React는 Netlify로 배포를 진행했고 NodeJS는 Koyeb로 배포를 진행했다. React는 성공적으로 배포가 되었지만, NodeJS는 배포 과정에서 에러를 계속 뱉어냈다.</p>\n<h1 id=\"NodeJS-배포\" style=\"position:relative;\"><a href=\"#NodeJS-%EB%B0%B0%ED%8F%AC\" aria-label=\"NodeJS 배포 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>NodeJS 배포</h1>\n<p>Koyeb에서 지원하는 배포 방식에는 크게 두 가지가 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">1. GitHub Repository를 통한 배포\n2. Docker를 통한 배포</code></pre></div>\n<h2 id=\"GitHub-Repository-배포\" style=\"position:relative;\"><a href=\"#GitHub-Repository-%EB%B0%B0%ED%8F%AC\" aria-label=\"GitHub Repository 배포 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>GitHub Repository 배포</h2>\n<p>나는 처음에 GitHub Repository를 통해 배포를 시도했다. 배포를 시켜놓고 잠깐 볼 일을 보고오니 에러가 발생해 있었다.\n<img src=\"https://velog.velcdn.com/images/eeeasy-code/post/2c8da60d-73d4-47ae-9a7a-4bf8d0ce4db9/image.png\"></p>\n<p>무슨 문제로 에러가 발생했는지 확인하기 위해서 로그를 확인했다.\n<img src=\"https://velog.velcdn.com/images/eeeasy-code/post/e59e0b62-954b-4bb8-ac31-c9dad982c4cd/image.png\"></p>\n<p>확인 결과, node_modules를 찾지 못해 발생한 에러였다. 기존 런타임 command를 <code> npm start</code>로만 지정해주어 발생한 것으로, <code> npm install; npm start</code>를 입력하면 정상적으로 배포가 수행된다.\n<img src=\"https://velog.velcdn.com/images/eeeasy-code/post/090f718f-2025-4efb-8633-0836d00834ea/image.png\"></p>\n<h2 id=\"Docker-배포\" style=\"position:relative;\"><a href=\"#Docker-%EB%B0%B0%ED%8F%AC\" aria-label=\"Docker 배포 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>Docker 배포</h2>\n<p>GitHub로 배포를 하고나니 시간이 어느정도 여유가 생겨서 Docker Image로 배포하는 방법도 궁금해졌다. 클라우드에 배포를 진행할 때 거의 대부분 github repository로만 배포하다보니까 다른 배포 방식은 어떻게 진행되는지 알아보고자 docker로도 배포를 해보았다.</p>\n<h3 id=\"Docker-배포-flow\" style=\"position:relative;\"><a href=\"#Docker-%EB%B0%B0%ED%8F%AC-flow\" aria-label=\"Docker 배포 flow permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>Docker 배포 flow</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">1. Dockerfile을 통해 NodeJS 서버를 이미지로 변환\n2. 생성된 이미지를 Docker Repository에 push\n3. Docker Repository 주소를 사용하여 클라우드에 배포</code></pre></div>\n<p>Docker로 배포하게 되면 위와같은 flow로 진행된다. Docker에 대한 기본적인 지식과 학습이 선행되어야 매끄럽게 진행될 것 같다.</p>\n<p><strong>[Dockerfile]</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">FROM node:20\n\nWORKDIR \"/app\"\n\nCOPY ./package*.json ./\n\nRUN npm install\n\nCOPY . .\n\nEXPOSE 3000\n\nCMD [\"npm\", \"start\"]</code></pre></div>\n<p>Dockerfile은 위와 같은 형태로 작성했다.</p>\n<p>이후, <code>docker build .</code> 명령어로 이미지를 빌드하고 나의 docker repository에 push하면 된다.</p>\n<p><img src=\"https://velog.velcdn.com/images/eeeasy-code/post/63aa54f4-8afe-4719-884a-1d72ea448fc3/image.png\"></p>\n<p>마지막으로 koyeb 배포 설정에서 docker-repository 주소를 입력 후 배포하면 된다.\n<img src=\"https://velog.velcdn.com/images/eeeasy-code/post/8147f915-c502-4a48-866a-7c37dd1ebd75/image.png\"></p>","frontmatter":{"title":"Koyeb에 NodeJS(Express) 서버 배포하기","date":"December 07, 2024","update":null,"tags":["koyeb","node.js"],"series":null},"fields":{"slug":"/koyeb-free-tier/","readingTime":{"minutes":2.865}}},"seriesList":{"edges":[{"node":{"id":"53222982-f6a0-59ed-85e0-e19906070f62","fields":{"slug":"/koyeb-free-tier/"},"frontmatter":{"title":"Koyeb에 NodeJS(Express) 서버 배포하기"}}}]},"previous":{"fields":{"slug":"/tech_review_01/"},"frontmatter":{"title":"테크 컨텐츠 리뷰를 시작합니다."}},"next":{"fields":{"slug":"/gachdong-01/"},"frontmatter":{"title":"가천대학교 동아리 모집 관리 서비스"}}},"pageContext":{"id":"53222982-f6a0-59ed-85e0-e19906070f62","series":null,"previousPostId":"2e5265c5-d991-50b4-a694-fafad609dc3b","nextPostId":"40bae031-3934-5f0a-8462-63e617504b12"}},"staticQueryHashes":[],"slicesMap":{}}